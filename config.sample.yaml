# Sample configuration file for Curator
# Copy this to local/config/config.yaml and update with your settings

search_providers:
  - type: newsnab
    name: Newsnab Provider
    api_url: https://your-newsnab-server.com/api
    api_key: your-api-key-here
    enabled: true
    categories: "7000,7010,7020,7030"

download_client:
  type: sabnzbd
  name: SABnzbd
  api_url: http://localhost:8080
  api_key: your-sabnzbd-api-key
  default_category: books

storage:
  db_path: ./local/config/periodicals.db
  download_dir: ./local/downloads
  organize_dir: ./local/data
  cache_dir: ./local/cache

import:
  organization_pattern: "{category}/{title}/{year}/"
  auto_track_imports: true
  category_prefix: _
  category_keywords:
    Magazines:
      - magazine
      - national geographic
      - wired
      - time
      - newsweek
      - economist
    Comics:
      - comic
      - marvel
      - dc
      - graphic novel
    Articles:
      - article
      - paper
      - journal
    News:
      - news
      - daily
      - newspaper

matching:
  # Fuzzy matching threshold (0-100) for duplicate detection
  # Higher = stricter matching, Lower = more lenient
  fuzzy_threshold: 80

  # Days threshold for considering publications as duplicates
  # Publications with same title within this many days are considered duplicates
  duplicate_date_threshold_days: 5

pdf:
  # DPI settings for cover extraction (higher = better quality, slower)
  cover_dpi_low: 60        # For thumbnails/previews
  cover_dpi_high: 200      # For high-quality covers

  # JPEG quality (1-100) for cover images
  cover_quality_low: 50    # For thumbnails
  cover_quality_high: 85   # For high-quality covers

downloads:
  # Maximum number of retry attempts for failed downloads
  max_retries: 3

  # Maximum number of downloads to submit per batch
  # Larger batches = faster but more resource intensive
  max_per_batch: 10

tasks:
  # Task interval settings (in seconds)
  # How often each background task runs

  # Auto-download: Search for and download new tracked issues
  auto_download_interval: 1800    # 30 minutes

  # Download monitor: Check download status and import completed files
  download_monitor_interval: 30   # 30 seconds

  # Cover cleanup: Remove orphaned covers and generate missing ones
  cleanup_covers_interval: 86400  # 24 hours

logging:
  level: INFO
  log_file: ./local/logs/periodical_manager.log

server:
  host: 0.0.0.0
  port: 8000
